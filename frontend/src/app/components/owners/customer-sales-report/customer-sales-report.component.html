<app-sidebar></app-sidebar>
<div class="sales-report-container">
  <h2>ğŸ“Š Customer Sales Report</h2>

  <div class="search-bar">
    <input type="date" [(ngModel)]="selectedDate" placeholder="Select Date">
    <input type="text" [(ngModel)]="customerName" placeholder="Enter customer name (optional)">
    <button (click)="fetchSalesReport()">ğŸ” Search</button>
  </div>

  <div class="filter-buttons">
    <button (click)="fetchDailyCustomerSalesReport()">ğŸ“… Daily Summary</button>
    <button (click)="fetchCustomerOrderReport()">ğŸ§¾ Customer Order Report</button>
  </div>

  <p *ngIf="errorMessage" class="error-message">âš ï¸ {{ errorMessage }}</p>

  <div class="sales-cards" *ngIf="salesData.length > 0">
    <div class="sales-card" *ngFor="let customer of salesData">
      <h3>ğŸ§¾ Customer: {{ customer.customerName }}</h3>
      <p><strong>ğŸ†” Customer ID:</strong> {{ customer.customerId }}</p>
      <p><strong>ğŸ“¦ Order Count:</strong> {{ customer.orderCount }}</p>
      <p><strong>ğŸ’° Total Spent:</strong> â‚¹{{ customer.totalSpent }}</p>
    </div>
  </div>

  <p *ngIf="salesData.length === 0" class="no-sales">No data available.</p>

  <div *ngIf="isLoading" class="loading-spinner">â³ Loading...</div>
</div>
